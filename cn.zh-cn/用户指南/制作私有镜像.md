# 制作私有镜像<a name="ZH-CN_TOPIC_0062552890"></a>

## 操作场景<a name="section20863864182455"></a>

对于已完成HPC配置的弹性云服务器，您可以将其作为模板制作私有镜像，便于快速创建集群。该任务指导用户怎样将Linux弹性云服务器转化为私有镜像，包括管理控制台方式和基于HTTPS请求的API（Application programming interface）方式。

## 前提条件<a name="section3166267818255"></a>

-   已确保Linux云服务器网卡设置为DHCP的方式动态获取网络地址。
-   已清理Linux云服务器中的udev配置规则。
-   已安装并配置Cloud-init工具。
-   已卸载Linux云服务器中挂载的所有数据盘。

## 控制台方式<a name="section1239538818259"></a>

1.  登录管理控制台。
2.  选择“计算 \> 弹性云服务器”。

    进入弹性云服务器信息页面。

3.  在弹性云服务器列表页，选择待制作镜像的云服务器，确认云服务器为“关机”状态。

    如果云服务器为“开机”状态，您可通过单击“操作”列下的“更多 \> 关机”将云服务器关机。

4.  单击“操作”列下的“更多 \> 制作镜像”，将弹性云服务器制作为私有镜像。
5.  根据界面提示，填写镜像的基本信息。
    -   源：云服务器
    -   弹性云服务器：保持系统默认值
    -   名称：用户自定义镜像名称。

6.  单击“立即申请”。

    系统将自动跳转至镜像服务页面，您可以在此页面查看新创建的私有镜像。


## API方式<a name="section2556425692022"></a>

-   URI

    POST /v2/cloudimages/action


-   请求样例

    ```
    POST /v2/cloudimages/action
    ```

    ```
    {
        "name": "ims_test",
        "description": "云服务器制作镜像",
        "instance_id": "877a2cda-ba63-4e1e-b95f-e67e48b6129a"
    }
    ```


-   响应样例

    ```
    STATUS CODE 200
    ```

    ```
    {
        "job_id": "8a12fc664fb4daa3014fb4e581380005"
    }
    ```


