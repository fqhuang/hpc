# 配置单个ECS免密登录<a name="ZH-CN_TOPIC_0062552876"></a>

## 操作场景<a name="section5226638417947"></a>

该任务指导用户在单个弹性云服务器内执行相关配置，使其可以免密登录。

## 背景信息<a name="section1279263219365"></a>

$：表示在普通用户下，执行相关操作。

\#：表示在超级用户下，执行相关操作。

普通用户切换至超级用户，请使用命令**sudo su**。

## 前提条件<a name="section22262618171127"></a>

已成功创建弹性云服务器，并绑定了弹性IP进行登录。

## 操作步骤<a name="section54197928171645"></a>

1.  使用“PuTTY”，采用密钥对方式登录集群中任意一台ECS。
2.  执行以下命令，防止系统超时退出。

    **\# TMOUT=0**

3.  将ECS对应的密钥文件（.pem文件，假设为\*.pem）拷贝至.ssh目录下，命名为“id\_rsa”。

    **$ cd \~/.ssh**

    **$ mv \*.pem id\_rsa**

4.  执行以下命令，给密钥文件配置权限。

    **$ sudo chmod 600 id\_rsa**

5.  执行以下命令，查询主机名。

    **\# hostname**

6.  执行以下命令，添加本主机私网IP地址和主机名。

    **\# vi /etc/hosts**

    示例：

    **192.168.0.1 ecs-ff-0001**

7.  执行以下命令，ssh方式登录本节点，验证是否可以不输入密码登录ECS。

    假设本主机的主机名为hostname1，则命令行如下：

    **$ ssh localhost**

    **$ ssh  _hostname1_**


